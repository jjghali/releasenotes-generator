<script src="https://code.jquery.com/jquery-3.5.1.min.js"> </script>
<link rel="stylesheet" type="text/css"
    href="https://portail-infonuagique.apps.cfzcec.desjardins.com/static/semantic.min.css" />

<select class="composant-filtre ui dropdown">
    <option value="">Composant</option>
    <option value="chiffrement-service">chiffrement-service</option>
    <option value="autre-service">autre-service</option>
</select>
<div class="ui checkbox">
    <input class="show-old" type="checkbox" name="hide-old">
    <label>Show old releases</label>
</div>
<!-- <div class="ui divider"></div> -->
<table class="composants-table ui table">
    <thead>
        <tr>
            <th class="single line">Version</th>
            <th>Date de création</th>
            <th>Composante</th>
        </tr>
    </thead>
    <tbody>
        <tr class="version-row" id="1.2.0-chiffrement-service" data-latest="true" data-version="1.2.0"
            data-composant="chiffrement-service">
            <td class="single line">
                1.2.0
            </td>
            <td>
                05 mai 2020
            </td>
            <td class="single line">
                chiffrement-service
            </td>
        </tr>
        <tr class="version-row" id="0.18.0-autre-service" data-latest="true" data-version="0.18.0"
            data-composant="autre-service">
            <td class="single line">
                0.18.0
            </td>
            <td>
                03 février 2020
            </td>
            <td class="single line">
                autre-service
            </td>
        </tr>
        <tr class="version-row" id="1.1.0-chiffrement-service" class="hidden" data-latest="false" data-version="1.1.0"
            data-composant="chiffrement-service">
            <td class="single line">
                1.1.0
            </td>
            <td>
                15 avril 2020
            </td>
            <td class="single line">
                chiffrement-service
            </td>
        </tr>
    </tbody>
</table>

<script>
    $(document).ready(function () {
        $('[data-latest="false"]').hide()
        $(".show-old").change(function () {
            console.log(this.checked)
            if (this.checked) {
                $('[data-latest="false"]').show()
            } else {
                $('[data-latest="false"]').hide()
            }
        })
        $(".composant-filtre").change(function () {
            $('.version-row').hide()
            var showOld = $(".show-old").checked;



            if ($(this).val()) {
                $('[data-latest="true"][data-composant="' + $(this).val() + '"]').show()

                if ($(".show-old").val() == 'on')
                    $('[data-latest="false"][data-composant="' + $(this).val() + '"]').show()
                else
                    $('[data-latest="false"][data-composant="' + $(this).val() + '"]').hide()
            } else {
                $('.version-row').show()
                if ($(".show-old").val() == 'on')
                    $('[data-latest="false"]').show()
                else
                    $('[data-latest="false"]').hide()
            }

        })
    });


</script>
<style>
    .hidden {
        display: none;
    }
</style>

<head></head>